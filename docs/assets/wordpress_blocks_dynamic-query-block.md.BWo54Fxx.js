import{_ as e,c as a,o,ag as i}from"./chunks/framework.CifvWIav.js";const u=JSON.parse('{"title":"Dynamic Query Block","description":"","frontmatter":{},"headers":[],"relativePath":"wordpress/blocks/dynamic-query-block.md","filePath":"wordpress/blocks/dynamic-query-block.md"}'),r={name:"wordpress/blocks/dynamic-query-block.md"};function n(l,t,s,d,c,h){return o(),a("div",null,t[0]||(t[0]=[i('<h1 id="dynamic-query-block" tabindex="-1">Dynamic Query Block <a class="header-anchor" href="#dynamic-query-block" aria-label="Permalink to &quot;Dynamic Query Block&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The Dynamic Query Block (registered as &quot;Posts Query&quot; in the block inserter) is a powerful component in the Phenix Design System that allows you to fetch and display dynamic content from your WordPress database. This server-side rendered block enables you to create custom content listings with flexible grid layouts and slider functionality. The block works by querying posts based on taxonomies and displaying them using template parts from your theme.</p><h2 id="key-features" tabindex="-1">Key Features <a class="header-anchor" href="#key-features" aria-label="Permalink to &quot;Key Features&quot;">​</a></h2><ul><li><strong>Taxonomy-Based Filtering</strong>: Query posts by selecting specific taxonomies and terms</li><li><strong>Template Part Integration</strong>: Display query results using theme template parts</li><li><strong>Flexible Grid Layout</strong>: Configure responsive grid layouts with customizable columns</li><li><strong>Slider Functionality</strong>: Convert grid layouts into interactive sliders</li><li><strong>Server-Side Rendering</strong>: Content is rendered on the server for optimal performance and SEO</li><li><strong>Pagination Support</strong>: Optional pagination for query results</li><li><strong>Search Integration</strong>: Support for search queries with proper nonce verification</li></ul><h2 id="how-to-use" tabindex="-1">How to Use <a class="header-anchor" href="#how-to-use" aria-label="Permalink to &quot;How to Use&quot;">​</a></h2><ol><li>In the WordPress editor, click the &quot;+&quot; button to add a new block</li><li>Search for &quot;Posts Query&quot; or find it in the &quot;Phenix Blocks&quot; category</li><li>Add the Posts Query block to your page</li><li>Select a template part from your theme to use for displaying each post</li><li>In the Query by Taxonomies panel, select the taxonomies you want to filter by</li><li>For each selected taxonomy, choose specific terms to include in the query</li><li>Enable Grid Mode if you want to display results in a grid layout</li><li>Configure columns and responsive behavior as needed</li><li>Enable the Slider option if you want the grid to function as a slider</li></ol><h2 id="block-settings" tabindex="-1">Block Settings <a class="header-anchor" href="#block-settings" aria-label="Permalink to &quot;Block Settings&quot;">​</a></h2><h3 id="toolbar-controls" tabindex="-1">Toolbar Controls <a class="header-anchor" href="#toolbar-controls" aria-label="Permalink to &quot;Toolbar Controls&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>HTML Tag</td><td>Select the HTML element to use for the wrapper (div, nav, main, aside)</td></tr><tr><td>Template Part</td><td>Select a template part from your theme to use for displaying each post</td></tr><tr><td>Grid Mode</td><td>Toggle to enable grid layout for query results</td></tr><tr><td>Slider Mode</td><td>Toggle to enable slider functionality for grid layouts</td></tr><tr><td>Columns</td><td>Set the number of columns for different screen sizes (mobile, tablet, laptop, desktop)</td></tr></tbody></table><h3 id="sidebar-controls" tabindex="-1">Sidebar Controls <a class="header-anchor" href="#sidebar-controls" aria-label="Permalink to &quot;Sidebar Controls&quot;">​</a></h3><h4 id="query-by-taxonomies-panel" tabindex="-1">Query by Taxonomies Panel <a class="header-anchor" href="#query-by-taxonomies-panel" aria-label="Permalink to &quot;Query by Taxonomies Panel&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>Taxonomies Types</td><td>Select which taxonomies to use for filtering (categories, tags, custom taxonomies)</td></tr><tr><td>Terms Selection</td><td>For each selected taxonomy, choose specific terms to include in the query</td></tr></tbody></table><h4 id="grid-layout-panel" tabindex="-1">Grid Layout Panel <a class="header-anchor" href="#grid-layout-panel" aria-label="Permalink to &quot;Grid Layout Panel&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>Grid Properties</td><td>Configure responsive grid layout settings</td></tr><tr><td>Alignment</td><td>Set alignment options for grid items</td></tr><tr><td>Responsive Columns</td><td>Configure different column counts for various screen sizes</td></tr><tr><td>Gap Controls</td><td>Set horizontal and vertical spacing between grid items</td></tr></tbody></table><h4 id="slider-options-panel" tabindex="-1">Slider Options Panel <a class="header-anchor" href="#slider-options-panel" aria-label="Permalink to &quot;Slider Options Panel&quot;">​</a></h4><p>Only visible when Slider Mode is enabled:</p><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>Slides Per View</td><td>Set the number of slides visible at once</td></tr><tr><td>Slides Per Group</td><td>Set how many slides to move at once when navigating</td></tr><tr><td>Space Between</td><td>Control the gap between slider items</td></tr><tr><td>Navigation</td><td>Enable/disable navigation arrows</td></tr><tr><td>Pagination</td><td>Enable/disable pagination dots</td></tr><tr><td>Loop</td><td>Enable/disable infinite loop</td></tr><tr><td>Autoplay</td><td>Enable/disable automatic sliding</td></tr></tbody></table><h4 id="layout-panel" tabindex="-1">Layout Panel <a class="header-anchor" href="#layout-panel" aria-label="Permalink to &quot;Layout Panel&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>Display Type</td><td>Choose between grid, list, carousel, or masonry layout</td></tr><tr><td>Columns</td><td>Set the number of columns for grid and masonry layouts</td></tr><tr><td>Gap</td><td>Control the spacing between items</td></tr><tr><td>Aspect Ratio</td><td>Set a consistent aspect ratio for item thumbnails</td></tr><tr><td>Item Height</td><td>Control the height of items (auto, fixed, or dynamic)</td></tr><tr><td>Responsive Columns</td><td>Adjust column count for different screen sizes</td></tr></tbody></table><h4 id="template-panel" tabindex="-1">Template Panel <a class="header-anchor" href="#template-panel" aria-label="Permalink to &quot;Template Panel&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>Template</td><td>Select from predefined item templates or create a custom one</td></tr><tr><td>Show Thumbnail</td><td>Display the featured image for each item</td></tr><tr><td>Thumbnail Size</td><td>Select the image size to use</td></tr><tr><td>Show Title</td><td>Display the item title</td></tr><tr><td>Show Excerpt</td><td>Display the item excerpt or summary</td></tr><tr><td>Excerpt Length</td><td>Control the length of excerpts</td></tr><tr><td>Show Meta</td><td>Display item metadata (author, date, categories, etc.)</td></tr><tr><td>Show Button</td><td>Add a &quot;Read More&quot; or custom action button</td></tr></tbody></table><h4 id="pagination-panel" tabindex="-1">Pagination Panel <a class="header-anchor" href="#pagination-panel" aria-label="Permalink to &quot;Pagination Panel&quot;">​</a></h4><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>Pagination Type</td><td>Choose between numbered pagination, load more button, or infinite scroll</td></tr><tr><td>Items Per Page</td><td>Set how many items to show before pagination</td></tr><tr><td>Show Page Numbers</td><td>Display numbered page links</td></tr><tr><td>Previous/Next</td><td>Show previous and next page navigation</td></tr><tr><td>Load More Text</td><td>Customize the text for the load more button</td></tr></tbody></table><h4 id="carousel-panel" tabindex="-1">Carousel Panel <a class="header-anchor" href="#carousel-panel" aria-label="Permalink to &quot;Carousel Panel&quot;">​</a></h4><p>When using carousel layout:</p><table tabindex="0"><thead><tr><th>Control</th><th>Description</th></tr></thead><tbody><tr><td>Slides Per View</td><td>Number of slides visible at once</td></tr><tr><td>Space Between</td><td>Gap between slides</td></tr><tr><td>Loop</td><td>Enable/disable infinite loop</td></tr><tr><td>Autoplay</td><td>Enable/disable automatic sliding</td></tr><tr><td>Navigation</td><td>Show/hide navigation arrows</td></tr><tr><td>Pagination</td><td>Show/hide pagination dots</td></tr></tbody></table><h2 id="technical-implementation" tabindex="-1">Technical Implementation <a class="header-anchor" href="#technical-implementation" aria-label="Permalink to &quot;Technical Implementation&quot;">​</a></h2><p>The Dynamic Query block is implemented with server-side rendering for optimal performance and SEO. The PHP rendering function handles the query and display of posts:</p><h3 id="query-construction" tabindex="-1">Query Construction <a class="header-anchor" href="#query-construction" aria-label="Permalink to &quot;Query Construction&quot;">​</a></h3><p>The block builds WordPress queries based on taxonomy selections:</p><ol><li><p><strong>Taxonomy Filtering</strong>: When taxonomies are selected, the block creates a <code>tax_query</code> parameter with the selected terms for each taxonomy.</p></li><li><p><strong>Pagination Support</strong>: The block supports standard WordPress pagination with the <code>paged</code> parameter.</p></li><li><p><strong>Search Integration</strong>: When search functionality is enabled, the block can accept search parameters with proper nonce verification.</p></li></ol><h3 id="template-part-integration" tabindex="-1">Template Part Integration <a class="header-anchor" href="#template-part-integration" aria-label="Permalink to &quot;Template Part Integration&quot;">​</a></h3><p>The block uses WordPress template parts for displaying query results:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get_template_part</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;template-parts/&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$block_attributes[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;template_part&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $the_query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">the_post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><p>This approach allows for flexible and reusable templates that can be customized in your theme.</p><h3 id="grid-and-slider-functionality" tabindex="-1">Grid and Slider Functionality <a class="header-anchor" href="#grid-and-slider-functionality" aria-label="Permalink to &quot;Grid and Slider Functionality&quot;">​</a></h3><p>The block supports both grid layouts and slider functionality:</p><ol><li><p><strong>Grid Layout</strong>: When <code>isFlexbox</code> is enabled, the block renders posts in a responsive grid with configurable columns.</p></li><li><p><strong>Slider Mode</strong>: When both <code>isFlexbox</code> and <code>slider</code> are enabled, the grid becomes an interactive slider with navigation controls.</p></li></ol><h3 id="pagination-implementation" tabindex="-1">Pagination Implementation <a class="header-anchor" href="#pagination-implementation" aria-label="Permalink to &quot;Pagination Implementation&quot;">​</a></h3><p>The block supports standard WordPress pagination through the <code>pagination()</code> function, which can be configured to display:</p><ul><li>Numbered page links</li><li>Previous/Next navigation</li><li>Custom styling for active and inactive pagination items</li></ul><h2 id="implementation-examples" tabindex="-1">Implementation Examples <a class="header-anchor" href="#implementation-examples" aria-label="Permalink to &quot;Implementation Examples&quot;">​</a></h2><p>The Dynamic Query block can be used in various ways based on the configuration options available. Below are descriptions of common implementations based on the actual block functionality.</p><h3 id="basic-posts-grid" tabindex="-1">Basic Posts Grid <a class="header-anchor" href="#basic-posts-grid" aria-label="Permalink to &quot;Basic Posts Grid&quot;">​</a></h3><p>A grid layout displaying posts from a specific category:</p><ul><li><strong>Configuration</strong>: <ul><li>Template Part: Select a post card template from your theme</li><li>Grid Mode: Enabled</li><li>Columns: 3 columns on desktop, 2 on tablet, 1 on mobile</li><li>Taxonomies: Category selected with specific terms chosen</li></ul></li></ul><h3 id="posts-slider" tabindex="-1">Posts Slider <a class="header-anchor" href="#posts-slider" aria-label="Permalink to &quot;Posts Slider&quot;">​</a></h3><p>A slider showcasing featured posts:</p><ul><li><strong>Configuration</strong>: <ul><li>Template Part: Select a post slide template from your theme</li><li>Grid Mode: Enabled</li><li>Slider Mode: Enabled</li><li>Slides Per View: 1</li><li>Navigation: Enabled</li><li>Pagination: Enabled</li><li>Taxonomies: Tag selected with &quot;featured&quot; term chosen</li></ul></li></ul><h3 id="blog-archive-with-pagination" tabindex="-1">Blog Archive with Pagination <a class="header-anchor" href="#blog-archive-with-pagination" aria-label="Permalink to &quot;Blog Archive with Pagination&quot;">​</a></h3><p>A standard blog layout with pagination:</p><ul><li><strong>Configuration</strong>: <ul><li>Template Part: Select a blog post template from your theme</li><li>Grid Mode: Enabled for multi-column layout</li><li>Columns: Configure based on desired layout</li><li>Query: Set pagination to true</li><li>Taxonomies: Configure based on desired filtering</li></ul></li></ul><h3 id="custom-post-type-display" tabindex="-1">Custom Post Type Display <a class="header-anchor" href="#custom-post-type-display" aria-label="Permalink to &quot;Custom Post Type Display&quot;">​</a></h3><p>A grid of custom post types filtered by taxonomy:</p><ul><li><strong>Configuration</strong>: <ul><li>Template Part: Select a custom template for your post type</li><li>Grid Mode: Enabled</li><li>Columns: Configure based on desired layout</li><li>Query: Set post_type to your custom post type</li><li>Taxonomies: Select custom taxonomies associated with your post type</li></ul></li></ul><h2 id="common-use-cases" tabindex="-1">Common Use Cases <a class="header-anchor" href="#common-use-cases" aria-label="Permalink to &quot;Common Use Cases&quot;">​</a></h2><h3 id="blog-archive" tabindex="-1">Blog Archive <a class="header-anchor" href="#blog-archive" aria-label="Permalink to &quot;Blog Archive&quot;">​</a></h3><p>Create a customized blog archive page with taxonomy-based filtering:</p><ol><li>Add the Posts Query block to your page</li><li>Select an appropriate template part for blog posts</li><li>Configure taxonomy filters to show posts from specific categories</li><li>Enable grid mode with responsive columns (3 on desktop, 2 on tablet, 1 on mobile)</li><li>Enable pagination for better user experience</li></ol><h3 id="featured-content-slider" tabindex="-1">Featured Content Slider <a class="header-anchor" href="#featured-content-slider" aria-label="Permalink to &quot;Featured Content Slider&quot;">​</a></h3><p>Create a slider showcasing featured content on your homepage:</p><ol><li>Add the Posts Query block to your page</li><li>Select a template part designed for featured content</li><li>Configure taxonomy filters to show only posts with a specific tag (e.g., &quot;featured&quot;)</li><li>Enable grid mode and slider mode</li><li>Configure slider options (navigation, pagination, autoplay)</li></ol><h3 id="category-specific-content-grid" tabindex="-1">Category-Specific Content Grid <a class="header-anchor" href="#category-specific-content-grid" aria-label="Permalink to &quot;Category-Specific Content Grid&quot;">​</a></h3><p>Display posts from specific categories in a responsive grid layout:</p><ol><li>Add the Posts Query block to your page</li><li>Select an appropriate template part for the content type</li><li>In the Query by Taxonomies panel, select the category taxonomy</li><li>Choose specific category terms to include in your query</li><li>Enable grid mode and configure responsive columns</li></ol><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><ol><li><p><strong>Template Part Selection</strong>: Choose or create template parts that are specifically designed for the content you&#39;re displaying. This ensures consistent styling and proper data display.</p></li><li><p><strong>Taxonomy Organization</strong>: Plan your taxonomy structure carefully to make filtering more effective. Well-organized taxonomies make it easier to create meaningful content queries.</p></li><li><p><strong>Responsive Configuration</strong>: Always configure responsive column settings appropriate for your content. What looks good on desktop may not work well on mobile devices.</p></li><li><p><strong>Grid vs. Slider Usage</strong>: Use grid layouts for standard content displays and enable slider functionality only when a carousel presentation enhances the user experience.</p></li><li><p><strong>Server-Side Performance</strong>: Remember that this block uses server-side rendering, so complex queries with many taxonomy filters may impact page load times. Keep queries focused and specific.</p></li><li><p><strong>Template Part Reusability</strong>: Create reusable template parts that can work across multiple query blocks for consistency and easier maintenance.</p></li><li><p><strong>Testing with Real Content</strong>: Always test your query configurations with actual content to ensure the display works as expected across different screen sizes.</p></li></ol><h2 id="related-blocks" tabindex="-1">Related Blocks <a class="header-anchor" href="#related-blocks" aria-label="Permalink to &quot;Related Blocks&quot;">​</a></h2><ul><li><a href="./container-block.html">Container Block</a> - For positioning query results within layouts</li><li><a href="./grid-row-block.html">Grid Row Block</a> - For creating custom grid layouts with query results</li><li><a href="./taxonomies-query-block.html">Taxonomies Query Block</a> - For querying taxonomy terms</li><li><a href="./users-query-block.html">Users Query Block</a> - For querying and displaying user data</li></ul>',70)]))}const m=e(r,[["render",n]]);export{u as __pageData,m as default};
